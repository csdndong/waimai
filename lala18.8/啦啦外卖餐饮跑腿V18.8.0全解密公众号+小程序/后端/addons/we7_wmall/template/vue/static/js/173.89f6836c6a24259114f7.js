webpackJsonp([173],{jQ7E:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("Gu7T"),i=s.n(e),o=s("Cz8s"),l=s("+TmT"),n=s("deIj"),r={components:{PublicHeader:o.a,Uploader:l.a},data:function(){return{deliveryerStar:0,goods_quality:0,note:"",thumbs:[],order_id:0,order:{goods:{thumb:"",name:""}},goods_tags:{},tagsSelected:{title:"",tags:[]},islegal:!1}},methods:{onLoad:function(){var t=this;Object(n.a)({vue:t,url:"gohome/comment/comment",data:{order_id:t.order_id},autoAssign:!0,variable:"order",success:function(a){t.islegal=!0,t.goods_tags=a.goods_tags}})},onGetImgsUrl:function(t){this.thumbs=t},onRateChange:function(t){this.tagsSelected.title=this.goods_tags[t].title,this.tagsSelected.tags=[],this.tagsSelected.tags=[].concat(i()(this.goods_tags[t].tags))},onToggleTag:function(t){this.tagsSelected.tags[t].active=!this.tagsSelected.tags[t].active+0},onSubmit:function(){if(this.goods_quality){var t={order_id:this.order_id,note:this.note,goods_quality:this.goods_quality,thumbs:this.thumbs,tags:this.tagsSelected.tags};Object(n.c)({vue:this,url:"gohome/comment/comment",data:t,message:"评论成功",redirect:this.util.getUrl({path:"/gohome/pages/order/index"})})}else this.util.$toast("请对商品质量进行评分")}},mounted:function(){this.$route.query&&this.$route.query.order_id&&(this.order_id=this.$route.query.order_id),this.onLoad()}},c={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"gohome-comment"}},[s("public-header",{attrs:{title:"评价"}}),t._v(" "),s("div",{staticClass:"content font-14"},[s("div",{staticClass:"margin-15 bg-default padding-15-lr radius-3 hide"},[t._m(0),t._v(" "),s("div",{staticClass:"text-center padding-5-b"},[s("p",{staticClass:"rate-tip"},[t._v("给配送员打个分吧")]),t._v(" "),s("van-rate",{staticClass:"margin-10-b",attrs:{size:25,count:5,color:"#FFD160"},model:{value:t.deliveryerStar,callback:function(a){t.deliveryerStar=a},expression:"deliveryerStar"}}),t._v(" "),s("van-row",{staticClass:"tags",attrs:{gutter:"10"}},[s("van-col",{attrs:{span:"8"}},[s("div",{staticClass:"tag-item active"},[t._v("风雨无阻")])]),t._v(" "),s("van-col",{attrs:{span:"8"}},[s("div",{staticClass:"tag-item"},[t._v("热情礼貌")])]),t._v(" "),s("van-col",{attrs:{span:"8"}},[s("div",{staticClass:"tag-item"},[t._v("穿工作服")])]),t._v(" "),s("van-col",{attrs:{span:"8"}},[s("div",{staticClass:"tag-item"},[t._v("快速准时")])]),t._v(" "),s("van-col",{attrs:{span:"8"}},[s("div",{staticClass:"tag-item"},[t._v("仪表整洁")])]),t._v(" "),s("van-col",{attrs:{span:"8"}},[s("div",{staticClass:"tag-item"},[t._v("货品完好")])])],1)],1)]),t._v(" "),s("div",{staticClass:"margin-15 bg-default padding-15-lr radius-3"},[s("div",{staticClass:"padding-15-tb van-hairline--bottom flex-lr"},[s("div",{staticClass:"avatar-wrap"},[s("img",{attrs:{src:t.order.goods.thumb,alt:""}})]),t._v(" "),s("div",{staticClass:"basic-info ellipsis font-15 font-500"},[t._v(t._s(t.order.goods.name))])]),t._v(" "),s("div",{staticClass:"text-center padding-5-b"},[t.tagsSelected.title?s("p",{staticClass:"rate-tip"},[t._v('"'+t._s(t.tagsSelected.title)+'"')]):t._e(),t._v(" "),s("van-rate",{staticClass:"margin-10-b",attrs:{size:25,count:5,color:"#FFD160"},on:{change:t.onRateChange},model:{value:t.goods_quality,callback:function(a){t.goods_quality=a},expression:"goods_quality"}}),t._v(" "),t.tagsSelected.tags.length>0?s("van-row",{staticClass:"tags",attrs:{gutter:"10"}},t._l(t.tagsSelected.tags,function(a,e){return s("van-col",{key:e,attrs:{span:"8"}},[s("div",{staticClass:"tag-item",class:{active:1==a.active},on:{click:function(a){return t.onToggleTag(e)}}},[t._v(t._s(a.title))])])}),1):t._e()],1),t._v(" "),s("van-field",{staticClass:"comment-text border-0px",attrs:{type:"textarea",placeholder:"来点评一下吧，让更多小伙伴了解！",rows:"4"},model:{value:t.note,callback:function(a){t.note=a},expression:"note"}}),t._v(" "),s("div",{staticClass:"uploader-wrap"},[s("uploader",{attrs:{max:6},on:{onGetUrl:t.onGetImgsUrl}}),t._v(" "),t.thumbs.length?t._e():s("ul",{staticClass:"upload-tips"},[s("li",{staticClass:"font-15"},[t._v("上传图片")]),t._v(" "),s("li",{staticClass:"font-12 c-gray margin-10-t"},[t._v("内容丰富的评价有机会成为优质评价哦")])])],1)],1),t._v(" "),s("div",{staticClass:"margin-15"},[s("van-button",{staticClass:"bg-danger font-16",attrs:{size:"normal",block:"",disabled:!t.islegal},on:{click:t.onSubmit}},[t._v("提交")])],1)])],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"padding-15-tb van-hairline--bottom flex-lr"},[s("div",{staticClass:"avatar-wrap"},[s("img",{attrs:{src:"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIjAzMVguDJpArLuW1iaqzEvCGao9iatS7lco9JnicH8nPpgRN6jFncBicp5FDodRYUlVCPZKwn02llrQ/132",alt:""}})]),t._v(" "),s("div",{staticClass:"basic-info"},[s("div",{staticClass:"flex-lr"},[s("div",{staticClass:"flex"},[s("span",{staticClass:"font-500 font-15"},[t._v("张三")]),t._v(" "),s("span",{staticClass:"delivery-title"},[t._v("啦啦专送")])]),t._v(" "),s("div",{staticClass:"c-gray font-13"},[t._v("评价对骑手匿名")])]),t._v(" "),s("div",{staticClass:"margin-5-t font-13"},[t._v("2018-11-16 19:55 送达")])])])}]};var d=s("VU/8")(r,c,!1,function(t){s("lmuE")},null,null);a.default=d.exports},lmuE:function(t,a){}});
//# sourceMappingURL=173.89f6836c6a24259114f7.js.map