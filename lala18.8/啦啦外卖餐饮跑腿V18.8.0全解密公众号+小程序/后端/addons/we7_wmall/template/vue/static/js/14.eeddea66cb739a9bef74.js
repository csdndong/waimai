webpackJsonp([14],{P0Uq:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=i("Gu7T"),e=i.n(a),o={data:function(){return{showAll:!1,store:{},hot_goods:[],order:{},activity:[],discounts:{},comment:{data:[]},goods:[],showPreLoading:!0}},methods:{onShowAllDiscount:function(){this.showAll=!this.showAll},onLoad:function(){var t=this;this.util.request({url:"ordergrant/share/detail",data:{id:this.id}}).then(function(s){t.showPreLoading=!1;var i=s.data.message;i.errno?t.$toast(i.message):((i=i.message).activity&&(t.activity=[].concat(e()(i.activity))),t.store=i.store,t.hot_goods=i.hot_goods,t.order=i.order,t.discounts=i.discounts,t.comment=i.comment,t.goods=i.goods)})}},created:function(){this.query=this.$route.query,this.query&&(this.id=this.query.id)},mounted:function(){this.onLoad()}},c={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{attrs:{id:"ordergrant-detail"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"container"},[i("div",{staticClass:"store-wrapper"},[i("div",{staticClass:"store-logo-wrapper"},[i("div",{staticClass:"store-logo"},[i("img",{attrs:{src:t.store.logo,alt:""}})])]),t._v(" "),i("div",{staticClass:"store-comment-info"},[i("h3",{staticClass:"store-title"},[t._v(t._s(t.store.title))]),t._v(" "),i("div",{staticClass:"store-comment"},[i("div",{staticClass:"comment-center"},[i("van-rate",{attrs:{disabled:"","disabled-color":"#ff2d4b"},model:{value:t.store.score,callback:function(s){t.$set(t.store,"score",s)},expression:"store.score"}}),t._v(" "),i("span",{staticClass:"customer-score"},[t._v(" "+t._s(t.store.score))])],1)]),t._v(" "),i("div",{staticClass:"delivery-info"},[t._v("\n\t\t\t\t\t\t\t起送价￥"+t._s(t.store.send_price)+"\n\t\t\t\t\t\t\t  |  配送费￥"+t._s(t.store.delivery_price)+"\n\t\t\t\t\t\t\t  |  "+t._s(t.store.delivery_time)+"分钟\n\t\t\t\t\t\t")])]),t._v(" "),t.activity.length>0||t.store.delivery_free_price>0?i("div",{staticClass:"activity-container",on:{click:t.onShowAllDiscount}},[t.activity.length>1?i("div",{staticClass:"activity-num"},[i("van-icon",{staticClass:"icon",attrs:{name:"arrow-down"}})],1):t._e(),t._v(" "),t._l(t.activity,function(s,a){return 0==a||t.showAll?i("div",{key:a,staticClass:"tags",class:"tags-"+s.type},[i("div",{staticClass:"icon-b"},[i("img",{attrs:{src:"static/img/"+s.type+"_b.png"}})]),t._v("\n                        \t"+t._s(s.title)+"\n                        ")]):t._e()}),t._v(" "),t.store.delivery_free_price>0&&(1==t.activity.length||t.showAll||0==t.activity.length)?i("div",{staticClass:"tags"},[t._v("\n                        \t满"+t._s(t.store.delivery_free_price)+"元免配送费\n                        ")]):t._e(),t._v(" "),t.store.hot_goods?i("div",{staticClass:"tags"},[t._v("\n                        \t热销:"),t._l(t.store.hot_goods,function(s){return i("span",{key:s.id},[t._v(t._s(s.goods))])})],2):t._e()],2):t._e()]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"order"},[i("div",{staticClass:"order-detail"},[i("h3",[t._v("订单明细")]),t._v(" "),i("div",{staticClass:"order-details-con"},[i("div",{staticClass:"inner-con van-hairline--bottom"},t._l(t.goods,function(s){return i("div",{key:s.id,staticClass:"no-gutter"},[i("div",{staticClass:"goods-title"},[t._v(t._s(s.goods_title))]),t._v(" "),i("div",{staticClass:"color-muted"},[t._v("×"+t._s(s.goods_num))]),t._v(" "),i("div",{staticClass:"color-black"},[t._v("￥"+t._s(s.goods_price))])])}),0),t._v(" "),i("div",{staticClass:"inner-con van-hairline--bottom"},[t.order.box_price>0?i("div",{staticClass:"no-gutter"},[i("div",{staticClass:"col-80"},[t._v("餐盒费")]),t._v(" "),i("div",{staticClass:"color-black"},[t._v("￥"+t._s(t.order.box_price))])]):t._e(),t._v(" "),i("div",{staticClass:"no-gutter"},[i("div",{staticClass:"col-80"},[t._v("包装费")]),t._v(" "),i("div",{staticClass:"color-black"},[t._v("￥"+t._s(t.order.pack_fee))])]),t._v(" "),i("div",{staticClass:"no-gutter"},[i("div",{staticClass:"col-80"},[t._v("配送费")]),t._v(" "),i("div",{staticClass:"color-black"},[t._v("￥"+t._s(t.order.delivery_fee))])]),t._v(" "),3==t.order.order_type?i("div",{staticClass:"no-gutter"},[i("div",{staticClass:"col-80"},[t._v("服务费")]),t._v(" "),i("div",{staticClass:"color-black"},[t._v("￥"+t._s(t.order.serve_fee))])]):t._e()]),t._v(" "),t.discounts?i("div",{staticClass:"inner-con van-hairline--bottom"},t._l(t.discounts,function(s){return i("div",{key:s.id,staticClass:"no-gutter"},[i("div",{staticClass:"tags"},[i("div",{staticClass:"icon-b"},[i("img",{attrs:{src:"static/img/"+s.type+"_b.png"}})]),t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(s.name)+"\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"color-black"},[t._v(t._s(s.note))])])}),0):t._e(),t._v(" "),i("div",{staticClass:"inner-con"},[i("div",{staticClass:"no-gutter"},[i("div",{staticClass:"col-50"},[t._v("订单"),i("span",{staticClass:"black"},[t._v("￥"+t._s(t.order.total_fee))]),t._v(" - 优惠"),i("span",{staticClass:"black"},[t._v("￥"+t._s(t.order.discount_fee))])]),t._v(" "),i("div",{staticClass:"col-15"},[t._v("总计")]),t._v(" "),i("div",{staticClass:"col-25 red"},[t._v("￥"),i("span",{staticClass:"final-fee"},[t._v(t._s(t.order.final_fee))])])])])])])]),t._v(" "),i("div",{staticClass:"comments van-hairline--bottom"},[i("div",{staticClass:"comment-detail"},[i("div",{staticClass:"comment-title"},[t._v("我的评价")]),t._v(" "),i("div",{staticClass:"comment-stars"},[i("van-rate",{attrs:{disabled:"","disabled-color":"#ff2d4b"},model:{value:t.comment.score,callback:function(s){t.$set(t.comment,"score",s)},expression:"comment.score"}})],1),t._v(" "),i("div",{staticClass:"my-comment"},[t._v(t._s(t.comment.note))]),t._v(" "),t.comment.data?[t.comment.data.good?i("div",{staticClass:"favourable-goods"},[i("i",{staticClass:"icon favor"}),t._v(" "),t._l(t.comment.data.good,function(s,a){return i("span",{staticClass:"goods-label"},[t._v(t._s(s)+" ")])})],2):t._e()]:t._e()],2)]),t._v(" "),t.hot_goods?i("div",{staticClass:"goods"},[i("div",{staticClass:"best-seller"},[i("h3",{staticClass:"best-seller-title"},[t._v("热销商品")]),t._v(" "),i("ul",{staticClass:"best-seller-list"},t._l(t.hot_goods,function(s,a){return i("li",{staticClass:"col-33"},[i("router-link",{attrs:{to:t.util.getUrl({path:"/pages/store/goods",query:{sid:t.store.id,goods_id:s.id}})}},[i("div",{staticClass:"best-seller-img"},[i("img",{attrs:{src:s.thumb,alt:""}})]),t._v(" "),i("span",{staticClass:"seller-item-name"},[t._v(t._s(s.title))]),t._v(" "),i("span",{staticClass:"seller-item-sale"},[t._v("已售"+t._s(s.sailed))]),t._v(" "),i("div",{staticClass:"seller-item-price"},[t._v("\n\t\t\t\t\t\t\t\t\t\t￥\n\t\t\t\t\t\t\t\t\t\t"),i("span",{staticClass:"price"},[t._v(t._s(s.price))])])])],1)}),0)])]):t._e()])]),t._v(" "),i("div",{staticClass:"bar-tab"},[i("router-link",{staticClass:"bar-tab-a",attrs:{to:t.util.getUrl({path:"/pages/store/goods",query:{sid:t.store.id}})}},[t._v("进店购买")])],1),t._v(" "),t.showPreLoading?i("iloading"):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"dotted-area"},[s("span",{staticClass:"circle circle-left"}),this._v(" "),s("span",{staticClass:"circle circle-right"}),this._v(" "),s("span",{staticClass:"dotted-line"})])}]};var r=i("VU/8")(o,c,!1,function(t){i("phnD")},null,null);s.default=r.exports},phnD:function(t,s){}});
//# sourceMappingURL=14.eeddea66cb739a9bef74.js.map