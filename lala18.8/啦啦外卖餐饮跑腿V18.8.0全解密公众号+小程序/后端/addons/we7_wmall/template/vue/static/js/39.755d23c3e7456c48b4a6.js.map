{"version":3,"sources":["webpack:///src/pages/store/report.vue","webpack:///./src/pages/store/report.vue?dd4f","webpack:///./src/pages/store/report.vue"],"names":["report","data","sid","Number","radio","note","thumbs","mobile","store","reasons","member","preLoading","components","PublicHeader","header","Uploader","uploader","methods","onLoad","_this","this","util","request","url","then","res","result","message","errno","$toast","length","concat","toConsumableArray_default","String","onSubmit","_this2","title","isValidMobile","params","method","getUrl","path","query","onGetImgsUrl","value","created","$route","mounted","store_report","render","_vm","_h","$createElement","_c","_self","attrs","id","_v","staticClass","model","callback","$$v","expression","slot","_s","_l","reason","index","key","name","_e","type","placeholder","rows","max","on","onGetUrl","click","size","block","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/39.755d23c3e7456c48b4a6.js","sourcesContent":["<template>\r\n\t<div id=\"store-report\">\r\n\t\t<public-header title=\"举报商家\"></public-header>\r\n\t\t<div class=\"content\">\r\n\t\t\t<van-radio-group v-model=\"radio\" class=\"reason-list\" v-if=\"reasons && reasons.length > 0\">\r\n\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t<van-cell>\r\n\t\t\t\t\t\t<div slot=\"title\" class=\"flex\">\r\n\t\t\t\t\t\t\t<div class=\"icon icon-infofill\"></div>举报商家:{{store.title}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</van-cell>\r\n\t\t\t\t\t<van-cell  v-for=\"(reason, index) in reasons\" :key=\"index\">\r\n\t\t\t\t\t\t<van-radio :name=\"'' + index\">{{reason}}</van-radio>\r\n\t\t\t\t\t</van-cell>\r\n\t\t\t\t</van-cell-group>\r\n\t\t\t</van-radio-group>\r\n\t\t\t<van-cell-group>\r\n\t\t\t\t<van-field\r\n\t\t\t\t\tv-model=\"note\"\r\n\t\t\t\t\ttype=\"textarea\"\r\n\t\t\t\t\tplaceholder=\"必填。描述详细。\"\r\n\t\t\t\t\trows=\"3\"\r\n\t\t\t\t/>\r\n\t\t\t</van-cell-group>\r\n\t\t\t<div class=\"tip\">有图有真相</div>\r\n\t\t\t<uploader @onGetUrl=\"onGetImgsUrl\" :max=\"3\"></uploader>\r\n\t\t\t<div class=\"tip\">手机号,仅平台管理员可见</div>\r\n\t\t\t<van-cell-group>\r\n\t\t\t\t<van-field v-model=\"mobile\" placeholder=\"手机号码：仅平台管理员可见\" />\r\n\t\t\t</van-cell-group>\r\n\t\t\t<div class=\"save-btn\" @click=\"onSubmit\">\r\n\t\t\t\t<van-button type=\"danger\" size=\"normal\" :block=\"true\">保存</van-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<transition name=\"loading\">\r\n\t\t\t<iloading v-if=\"preLoading\"></iloading>\r\n\t\t</transition>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport PublicHeader from '@/components/header'\r\n\timport Uploader from '@/components/uploader'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tsid: Number,\r\n\t\t\t\tradio: '0',\r\n\t\t\t\tnote: '',\r\n\t\t\t\tthumbs: [],\r\n\t\t\t\tmobile: '',\r\n\t\t\t\tstore: {},\r\n\t\t\t\treasons: [],\r\n\t\t\t\tmember: {},\r\n\t\t\t\tpreLoading: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tPublicHeader,\r\n\t\t\tUploader\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonLoad() {\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/store/report',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tsid: this.sid\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthis.preLoading = false;\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.util.$toast(result.message);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.store = result.message.store;\r\n\t\t\t\t\tthis.mobile = result.message.member.mobile;\r\n\t\t\t\t\tif(result.message.reasons.length > 0) {\r\n\t\t\t\t\t\tthis.reasons = [...result.message.reasons];\r\n\t\t\t\t\t\tthis.radio = String(this.reasons.length - 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonSubmit() {\r\n\t\t\t\tvar title = this.reasons[this.radio];\r\n\t\t\t\tif(!title) {\r\n\t\t\t\t\tthis.util.$toast('投诉类型不能为空');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.note) {\r\n\t\t\t\t\tthis.util.$toast('投诉内容不能为空');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.util.isValidMobile(this.mobile)) {\r\n\t\t\t\t\tthis.$toast('手机号格式错误');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.thumbs.length > 3) {\r\n\t\t\t\t\tthis.util.$toast(\"最多能上传3张图片\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\tsid: this.sid,\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\tnote: this.note,\r\n\t\t\t\t\tmobile: this.mobile,\r\n\t\t\t\t\tthumbs: this.thumbs\r\n\t\t\t\t};\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/store/report/post',\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: params,\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.util.$toast(result.message);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.util.$toast(result.message, this.util.getUrl({path: 'pages/store/index', query: {sid: this.sid}}))\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonGetImgsUrl(value) {\r\n\t\t\t\tthis.thumbs = value;\r\n\t\t\t},\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tif(this.$route.query.sid) {\r\n\t\t\t\tthis.sid = this.$route.query.sid;\r\n\t\t\t} else {\r\n\t\t\t\tthis.util.$toast('门店不存在或已删除');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.onLoad();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#store-report .reason-list{\r\n\t\tmargin: 10px 0;\r\n\t}\r\n\t#store-report .reason-list .icon-infofill{\r\n\t\tfont-size: 22px;\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\t#store-report .reason-list .van-icon{\r\n\t\twidth: 20px;\r\n\t\theight: 20px;\r\n\t\tborder-radius: 50%;\r\n\t\ttext-align: center;\r\n\t\tline-height: 20px;\r\n\t\tborder: 1px solid #c7c7cc;\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #fff;\r\n\t}\r\n\t#store-report .reason-list .van-icon-checked{\r\n\t\tbackground-color: #ff2d4b;\r\n\t\tborder-color: #ff2d4b;\r\n\t}\r\n\t#store-report .van-radio__label{\r\n\t\tmax-width: 90%;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t#store-report .tip{\r\n\t\twidth: 100%;\r\n\t\tpadding: 10px 15px;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #6d6d72;\r\n\t}\r\n\t#store-report .save-btn{\r\n\t\tmargin: 15px;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/store/report.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"store-report\"}},[_c('public-header',{attrs:{\"title\":\"举报商家\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[(_vm.reasons && _vm.reasons.length > 0)?_c('van-radio-group',{staticClass:\"reason-list\",model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_c('van-cell-group',[_c('van-cell',[_c('div',{staticClass:\"flex\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('div',{staticClass:\"icon icon-infofill\"}),_vm._v(\"举报商家:\"+_vm._s(_vm.store.title)+\"\\n\\t\\t\\t\\t\\t\")])]),_vm._v(\" \"),_vm._l((_vm.reasons),function(reason,index){return _c('van-cell',{key:index},[_c('van-radio',{attrs:{\"name\":'' + index}},[_vm._v(_vm._s(reason))])],1)})],2)],1):_vm._e(),_vm._v(\" \"),_c('van-cell-group',[_c('van-field',{attrs:{\"type\":\"textarea\",\"placeholder\":\"必填。描述详细。\",\"rows\":\"3\"},model:{value:(_vm.note),callback:function ($$v) {_vm.note=$$v},expression:\"note\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"tip\"},[_vm._v(\"有图有真相\")]),_vm._v(\" \"),_c('uploader',{attrs:{\"max\":3},on:{\"onGetUrl\":_vm.onGetImgsUrl}}),_vm._v(\" \"),_c('div',{staticClass:\"tip\"},[_vm._v(\"手机号,仅平台管理员可见\")]),_vm._v(\" \"),_c('van-cell-group',[_c('van-field',{attrs:{\"placeholder\":\"手机号码：仅平台管理员可见\"},model:{value:(_vm.mobile),callback:function ($$v) {_vm.mobile=$$v},expression:\"mobile\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"save-btn\",on:{\"click\":_vm.onSubmit}},[_c('van-button',{attrs:{\"type\":\"danger\",\"size\":\"normal\",\"block\":true}},[_vm._v(\"保存\")])],1)],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"loading\"}},[(_vm.preLoading)?_c('iloading'):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b8aa2d8e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/store/report.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b8aa2d8e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./report.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./report.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./report.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b8aa2d8e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./report.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/store/report.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}